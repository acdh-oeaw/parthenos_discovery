#DEFINE input:inference 'parthenos_rules'
select distinct
?class
( GROUP_CONCAT(distinct ?class_labelX, "/") as ?class_label)

?instanceURI
str(?instance_labelX) as ?instance_label

(str(?ds) as ?ds) 
?gRecord
where{

values ?class { <http://www.cidoc-crm.org/cidoc-crm/E4_Period> <http://www.cidoc-crm.org/cidoc-crm/E5_Event>}
?class rdfs:label ?classlabelX. bind (str(?classlabelX) as ?class_labelX).

graph ?gRecord  {
?instanceURI a ?class.
}

optional {?instanceURI rdfs:label ?labelX. bind (str(?labelX) as ?instance_labelX).}

GRAPH <provenance> {
values ?ds { "PARTHENOS"^^<http://www.w3.org/2001/XMLSchema#string> }
?gRecord <dnetcollectedFrom> ?api . ?api <dnetisApiOf> ?ds}

} 
#group by ?ds ?gRecord ?class
order by ?ds ?gRecord ?instanceURI