#3 ######### Counts instances per class per record. To have the instances per class replace count(distinct ?instanceURI) with ?instanceURI in 'select' clause #########
######### Result is the same as in https://beta-parthenos.d4science.org/aggregator/mvc/ui/lightui.do?ui=parthenos#/doc/objidentifier/parthenos___%253A%253A8d777f385d3dfec8815d20f7496026dc #########

#DEFINE input:inference 'parthenos_rules'
select distinct ?class count(distinct ?instanceURI) {
graph ?gRecord  {
?instanceURI a ?class.
}

#optional {?subclass rdfs:subClassOf ?class . }
#filter (!bound(?subclass ))

GRAPH <provenance> {?gRecord <dnetcollectedFrom> ?api . ?api <dnetisApiOf> "PARTHENOS"^^<http://www.w3.org/2001/XMLSchema#string>}
} 
group by ?gRecord ?class 
